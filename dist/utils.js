'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.filterObject=exports.firstUpperCase=exports.isEmptyObject=exports.isArray=exports.fsExistsSync=exports.searchDirs=exports.searchEntries=undefined;var _glob=require('glob');var _glob2=_interopRequireDefault(_glob);var _fs=require('fs');var _fs2=_interopRequireDefault(_fs);var _path=require('path');var _path2=_interopRequireDefault(_path);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var searchEntries=function searchEntries(entryFileName,entryPath){var filenamePrefix=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var ignores=arguments[3];var files={};// 如果目录以'/'结尾，则去掉
entryPath=entryPath.replace(/\/$/,'');/**
   * 排除目录
   * input: ['one','two','three']
   * output: one|two|three
   */var ignore='',i=0,connector='';ignores&&ignores.forEach(function(item){i>0?connector='|':connector='';ignore+=connector+item;i++;});/**
   * filenamePrefix 表示输出文件的前缀
   * 如输出'app/js/default/index.js',则前缀为'app/js/default/'
   */_glob2.default.sync(entryPath+('/!('+ignore+')/**/'+entryFileName+'.{js,jsx}')).forEach(function(file){var entryName=filenamePrefix+file.replace(entryPath+'/','').replace(file.substring(file.lastIndexOf('.')),'');files[entryName]=file;});return files;};// 判断文件或文件夹是否存在
var fsExistsSync=function fsExistsSync(path){try{_fs2.default.accessSync(path,_fs2.default.F_OK);}catch(e){return false;}return true;};var searchDirs=function searchDirs(searchDir,isExistDir){var dirsArr=[];if(!fsExistsSync(searchDir)){return[];}var dirs=_fs2.default.readdirSync(searchDir);var rootdir=searchDir.substring(searchDir.lastIndexOf('/')+1);dirs=dirs.filter(function(dir){return dir!=='.DS_Store'&&dir!=='.gitkeep'&&fsExistsSync(searchDir+'/'+dir+'/'+isExistDir);});dirsArr=dirs.map(function(dir){return rootdir+'/'+dir;});return dirsArr;};var isArray=function isArray(arr){return Object.prototype.toString.call(arr)==='[object Array]';};var isEmptyObject=function isEmptyObject(obj){for(var item in obj){return false;}return true;};var firstUpperCase=function firstUpperCase(str){return str.toLowerCase().replace(/( |^)[a-z]/g,function(L){return L.toUpperCase();});};var filterObject=function filterObject(obj,filterName){var newObj={};var filterObj={};for(var item in obj){if(item.indexOf(filterName)===-1){newObj[item]=obj[item];}else{filterObj[item]=obj[item];}}return{newObj:newObj,filterObj:filterObj};};exports.searchEntries=searchEntries;exports.searchDirs=searchDirs;exports.fsExistsSync=fsExistsSync;exports.isArray=isArray;exports.isEmptyObject=isEmptyObject;exports.firstUpperCase=firstUpperCase;exports.filterObject=filterObject;